 #! python3
import json,requests
import streanlit as st

# Define the API endpoint and available relationship types
BASE_URL = "https://api.datamuse.com/words"
REL_TYPES = {
    "Means Like": "ml",
    "Sounds Like": "sl",
    "Spelled Like": "sp",
    "Related To": "rel_trg",
    "Synonyms": "rel_syn",
    "Antonyms": "rel_ant",
    "Rhymes With": "rel_rhy",
    "Homophones": "rel_hom",
    "Triggers": "rel_trg",
}

# Define the app layout
st.title("Related Words App")
word = st.text_input("Enter a word:")
rel_type = st.selectbox("Select a relationship type:", list(REL_TYPES.keys()))

# Make the API request and display the results
if word:
    params = {"rel_" + REL_TYPES[rel_type]: word}
    response = requests.get(BASE_URL, params=params)
    if response.status_code == 200:
        data = response.json()
        st.write(f"{len(data)} {rel_type} found for {word}:")
        for i, d in enumerate(data, start=1):
            st.write(f"{i}. {d['word']}")
    else:
        st.error(f"Error: {response.status_code}")
